<div class="signup-page__container">
  <div class="errors-wrapper">
    <p-toast></p-toast>
  </div>
  <div class="signup-page__logo-wrapper">
    <img src="assets/images/logo.svg"/>
    <h3>Shoppingify allows you take your shopping list wherever you go</h3>
  </div>
  <form class="input-group" [formGroup]="signupForm">
    <div [ngClass]="{'ng-invalid': getFormValidationErrors(signupForm.controls['firstName'])}" class="input-field">
      <label for="firstName">First Name</label>
      <input formControlName="firstName" id="firstName" pInputText/>
      <p *ngIf="getFormValidationErrors(signupForm.controls['firstName'])" class="p-error">
        {{getFormValidationErrors(signupForm.controls['firstName']) ? 'First Name is required' : ''}}
      </p>
    </div>
    <div [ngClass]="{'ng-invalid': getFormValidationErrors(signupForm.controls['lastName'])}" class="input-field">
      <label for="lastName">Last Name</label>
      <input formControlName="lastName" id="lastName" pInputText/>
      <p *ngIf="getFormValidationErrors(signupForm.controls['lastName'])" class="p-error">
        {{getFormValidationErrors(signupForm.controls['lastName']) ? 'Last Name is required' : ''}}
      </p>
    </div>
    <div class="input-field" [ngClass]="{'ng-invalid': getFormValidationErrors(signupForm.controls['email'])}">
      <label for="email">Email</label>
      <input pInputText id="email" formControlName="email"/>
      <p class="p-error" *ngIf="getFormValidationErrors(signupForm.controls['email'])">
        {{getFormValidationErrors(signupForm.controls['email']) == 1 ? 'Email is required' : 'Email is invalid'}}
      </p>
    </div>
    <div class="input-field" [ngClass]="{'ng-invalid': getFormValidationErrors(signupForm.controls['password'])}">
      <label for="password">Password</label>
      <input pInputText id="password" type="password"
             formControlName="password"/>
      <p class="p-error" *ngIf="getFormValidationErrors(signupForm.controls['password'])">
        {{getFormValidationErrors(signupForm.controls['password']) == 1 ? 'Password is required' : 'Password is invalid'}}
      </p>
    </div>
    <div class="input-field"
         [ngClass]="{'ng-invalid': getFormValidationErrors(signupForm.controls['passwordConfirm']) || (signupForm.controls['passwordConfirm'].value !== signupForm.controls['password'].value) }">
      <label for="password">Password</label>
      <input pInputText id="passwordConfirm" type="password"
             formControlName="passwordConfirm"/>
      <p class="p-error"
         *ngIf="getFormValidationErrors(signupForm.controls['password']) || (signupForm.controls['passwordConfirm'].value !== signupForm.controls['password'].value)">
        {{getFormValidationErrors(signupForm.controls['password']) == 1 ?
        'Password is required' :
        (signupForm.controls['passwordConfirm'].value !== signupForm.controls['password'].value) ?
          'Passwords do not match'
          :
          'Password is invalid'}}
      </p>
    </div>
    <div class="btn-wrapper">
      <p-button (onClick)="onSignup()" [disabled]="signupForm.invalid" [loading]="isLoading" label="Signup"
                styleClass="btn-default"></p-button>
    </div>
  </form>
  <div class="signup-page__footer">
    <p>Already have an account? <a routerLink="/auth/login">Login</a></p>
  </div>
</div>
